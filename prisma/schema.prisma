generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model hierarchy {
  id              String      @id @db.Uuid
  parent_id       String?     @db.Uuid
  metadata        metadata    @relation(fields: [id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  hierarchy       hierarchy?  @relation("hierarchyTohierarchy", fields: [parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  other_hierarchy hierarchy[] @relation("hierarchyTohierarchy")
}

model metadata {
  id         String     @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name       String     @db.VarChar(255)
  file_type  String?    @db.VarChar(50)
  is_folder  Boolean
  created_at DateTime?  @default(now()) @db.Timestamp(6)
  hierarchy  hierarchy?
}
